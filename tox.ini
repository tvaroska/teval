[tox]
# Define the test environments (Python 3.10 - 3.14)
env_list = py310, py311, py312, py313, py314
# Require the tox-uv plugin
requires = tox-uv
# Isolate the build
isolated_build = True

[testenv]
# Use the tox-uv runner for faster virtualenv creation
runner = uv-venv-runner
# Use uv's managed Python versions instead of system Python
uv_python_preference = managed
description = Run unit tests with pytest
# Install test dependencies
deps =
    pytest>=8.0.0
# Pass Google Cloud credentials if present (for future integration tests)
pass_env =
    GOOGLE_CLOUD_PROJECT
    GOOGLE_APPLICATION_CREDENTIALS
commands =
    pytest tests/test_metrics.py -v
